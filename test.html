<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ë¬´í•œ íŒ¨ëŸ´ë™ìŠ¤ ë°°ê²½</title>
    <style>
        body {
            margin: 0;
            height: 3000px;
            background: #f5f7fa;
            overflow-x: hidden;
        }

        .curation {
            width: 100%;
            padding: 100px 0 0;
        }

        .curation-inner {
            max-width: 1320px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            flex-direction: column;
            gap: 40px;
        }

        /* ìƒë‹¨ ê·¸ë£¹ */
        .curation-top {
            display: flex;
            gap: 40px;
            align-items: flex-start;
        }

        /* ì†Œê°œ ì˜ì—­ */
        .curation-info {
            flex: 1;
            max-width: 100%;
        }

        .curation-info h2 {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 16px;
        }

        .curation-info p {
            font-size: 16px;
            line-height: 1.6;
            color: var(--color-gray-80, #666);
        }

        /* ë©”ì¸ ìŠ¬ë¼ì´ë“œ */
        .main-view {
            flex: 2;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .main-view img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .thumb-view {
            width: 100%;
            max-width: 1070px;
            overflow: hidden;
        }

        .thumb-list {
            display: flex;
            gap: 12px;
            transition: transform 0.5s ease;
        }

.thumb {
    position: relative;
    flex: 0 0 calc((1070px - 24px) / 3); /* 3ë“±ë¶„ - gap 2ê°œ */
    width: calc((1070px - 24px) / 3);
    aspect-ratio: 16 / 9; /* ìë™ìœ¼ë¡œ height ê³„ì‚°ë¨ (196.5px ì •ë„) */
    cursor: pointer;
    border: 3px solid transparent;
    overflow: hidden;
    transition: border 0.3s ease;
}

        .thumb img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        /* dim ë ˆì´ì–´ */
        .thumb-dim {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            /* ê¸°ë³¸ dim */
            transition: background 0.3s ease, opacity 0.3s ease;
        }

        /* active ìƒíƒœ - ë°ê²Œ */
        .thumb.active .thumb-dim {
            background: rgba(0, 0, 0, 0);
        }

        /* active í…Œë‘ë¦¬ ê°•ì¡° */
        .thumb.active {

        }

        .slide-bar-wrapper {
            margin-top: 20px;
            height: 4px;
            background: #e0e0e0;
            border-radius: 2px;
            position: relative;
            max-width: 524px;
            /* ì¸ë„¤ì¼ ë·°ì™€ ë™ì¼í•œ ë„ˆë¹„ */
        }

        .slide-bar {
            height: 100%;
            width: 104.8px;
            /* ì „ì²´ ë„ˆë¹„ì˜ 1/5 (524px / 5) */
            background: #000;
            border-radius: 2px;
            transition: transform 0.3s ease;
            position: absolute;
            left: 0;
        }
    </style>
</head>

<body>
    <section class="curation">
        <div class="curation-inner container">
            <!-- ìƒë‹¨: ì†Œê°œ + ë©”ì¸ ìŠ¬ë¼ì´ë“œ ê·¸ë£¹ -->
            <div class="curation-top">
                <div class="curation-info">
                    <h2>íë ˆì´ì…˜ ì†Œê°œ</h2>
                    <p>íë ˆì´ì…˜ì—ì„œëŠ” ë””ìì´ë„ˆë“¤ì˜ ì‹¤ì œ í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ í†µí•´ ì–´ë–¤ íˆ´ê³¼ ë¦¬ì†ŒìŠ¤ë¥¼ í™œìš©í–ˆëŠ”ì§€ ì§ì ‘ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.</p>
                </div>

                <div class="main-view">
                    <img id="mainSlideImage" src="./src/assets/images/index/curation/curation-1.png" alt="ë©”ì¸ ìŠ¬ë¼ì´ë“œ" />
                </div>
            </div>

            <!-- í•˜ë‹¨: ì¸ë„¤ì¼ ë° ìŠ¬ë¼ì´ë“œ ë°” -->
            <div class="curation-bottom">
                <div class="thumb-view" id="thumbView">
                    <div class="thumb-list" id="thumbList">
                        <div class="thumb active">
                            <img src="./src/assets/images/index/curation/curation-1.png" alt="ì¸ë„¤ì¼1">
                            <div class="thumb-dim"></div>
                        </div>
                        <div class="thumb">
                            <img src="./src/assets/images/index/curation/curation-2.png" alt="ì¸ë„¤ì¼2">
                            <div class="thumb-dim"></div>
                        </div>
                        <div class="thumb">
                            <img src="./src/assets/images/index/curation/curation-3.png" alt="ì¸ë„¤ì¼3">
                            <div class="thumb-dim"></div>
                        </div>
                        <div class="thumb">
                            <img src="./src/assets/images/index/curation/curation-4.png" alt="ì¸ë„¤ì¼4">
                            <div class="thumb-dim"></div>
                        </div>
                        <div class="thumb">
                            <img src="./src/assets/images/index/curation/curation-5.png" alt="ì¸ë„¤ì¼5">
                            <div class="thumb-dim"></div>
                        </div>
                    </div>
                </div>
                <div class="slide-bar-wrapper">
                    <div class="slide-bar" id="slideBar"></div>
                </div>
            </div>
        </div>
    </section>

    <script>
        const thumbList = document.getElementById('thumbList');
        const mainImage = document.getElementById('mainSlideImage');
        const slideBar = document.getElementById('slideBar');
        const thumbs = Array.from(thumbList.querySelectorAll('.thumb'));
        const thumbWidth = 160;
        const gap = 12;
        const totalCount = thumbs.length;

        // í˜„ì¬ ì¸ë„¤ì¼ë“¤ì˜ ìˆœì„œë¥¼ ì €ì¥í•˜ëŠ” ë°°ì—´
        let currentOrder = [0, 1, 2, 3, 4]; // ì´ˆê¸° ìˆœì„œ

        // ë©”ì¸ ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateMainImage(index) {
            // ì‹¤ì œ ì´ë¯¸ì§€ ê²½ë¡œë¡œ ë³€ê²½
            const imagePaths = [
                './src/assets/images/index/curation/curation-1.png',
                './src/assets/images/index/curation/curation-2.png',
                './src/assets/images/index/curation/curation-3.png',
                './src/assets/images/index/curation/curation-4.png',
                './src/assets/images/index/curation/curation-5.png'
            ];
            mainImage.src = imagePaths[index];
            mainImage.alt = `ë©”ì¸ ìŠ¬ë¼ì´ë“œ ${index + 1}`;
        }

        // ìŠ¬ë¼ì´ë“œ ë°” ì—…ë°ì´íŠ¸ í•¨ìˆ˜ (ì›ë˜ ì¸ë„¤ì¼ ë²ˆí˜¸ì— ë”°ë¼ ìœ„ì¹˜ ê²°ì •)
        function updateSlideBar(originalIndex) {
            // ìŠ¬ë¼ì´ë“œë°”ë¥¼ 5ë“±ë¶„í•˜ì—¬ ì›ë˜ ì¸ë„¤ì¼ ë²ˆí˜¸ì— ë”°ë¼ ìœ„ì¹˜ ê²°ì •
            const slideBarWidth = 104.8; // ì „ì²´ ë„ˆë¹„ì˜ 1/5
            const moveDistance = originalIndex * slideBarWidth;
            slideBar.style.transform = `translateX(${moveDistance}px)`;
        }

        // ì¸ë„¤ì¼ ìˆœì„œ ì¬ë°°ì¹˜ í•¨ìˆ˜
        function reorderThumbnails(selectedIndex) {
            // ì„ íƒëœ ì¸ë±ìŠ¤ë¥¼ ë§¨ ì•ìœ¼ë¡œ, ë‚˜ë¨¸ì§€ëŠ” ìˆœí™˜í•˜ì—¬ ë°°ì¹˜
            const newOrder = [];

            // ì„ íƒëœ ì¸ë±ìŠ¤ë¶€í„° ì‹œì‘
            for (let i = 0; i < totalCount; i++) {
                newOrder.push((selectedIndex + i) % totalCount);
            }

            // DOM ìš”ì†Œë“¤ì„ ìƒˆë¡œìš´ ìˆœì„œë¡œ ì¬ë°°ì¹˜
            newOrder.forEach((originalIndex, position) => {
                const thumb = thumbs[originalIndex];
                thumbList.appendChild(thumb);
            });

            // í˜„ì¬ ìˆœì„œ ì—…ë°ì´íŠ¸
            currentOrder = newOrder;

            // transformì„ 0ìœ¼ë¡œ ë¦¬ì…‹ (ì¬ë°°ì¹˜í–ˆìœ¼ë¯€ë¡œ)
            thumbList.style.transform = 'translateX(0px)';

            // ìŠ¬ë¼ì´ë“œ ë°”ëŠ” ì›ë˜ ì¸ë„¤ì¼ ë²ˆí˜¸ì— ë”°ë¼ ìœ„ì¹˜ ìœ ì§€ (ì¬ë°°ì¹˜ì™€ ë¬´ê´€)
            // updateSlideBarëŠ” ì´ë¯¸ í´ë¦­ ì´ë²¤íŠ¸ì—ì„œ í˜¸ì¶œë˜ë¯€ë¡œ ì—¬ê¸°ì„œëŠ” í˜¸ì¶œí•˜ì§€ ì•ŠìŒ
        }

// ì¸ë„¤ì¼ í´ë¦­ ì´ë²¤íŠ¸
thumbs.forEach((thumb, originalIndex) => {
    thumb.addEventListener('click', () => {
        updateMainImage(originalIndex);

        thumbs.forEach(t => t.classList.remove('active'));
        thumb.classList.add('active');

        const currentPosition = currentOrder.indexOf(originalIndex);
        updateSlideBar(originalIndex);

        if (currentPosition === 0) return;

        // ğŸ”¥ ì—¬ê¸°ì„œ ì¸ë„¤ì¼ ì‹¤ì œ ë„ˆë¹„ì™€ gap ê°€ì ¸ì˜¤ê¸°
        const thumbEl = thumbs[0]; // ì•„ë¬´ ì¸ë„¤ì¼ í•˜ë‚˜ ê¸°ì¤€
        const thumbWidth = thumbEl.getBoundingClientRect().width;
        const computedStyle = window.getComputedStyle(thumbList);
        const gap = parseFloat(computedStyle.columnGap || computedStyle.gap || 12); // fallback 12

        const moveDistance = -currentPosition * (thumbWidth + gap);
        thumbList.style.transition = 'transform 0.3s ease';
        thumbList.style.transform = `translateX(${moveDistance}px)`;

        setTimeout(() => {
            thumbList.style.transition = 'none';
            reorderThumbnails(originalIndex);

            setTimeout(() => {
                thumbList.style.transition = 'transform 0.3s ease';
            }, 50);
        }, 300);
    });
});


        // ì´ˆê¸° ì„¤ì •
        updateMainImage(0);
        updateSlideBar(0);
    </script>
</body>

</html>